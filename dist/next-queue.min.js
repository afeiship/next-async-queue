!function(){var t=t||this||self||window,e=t.nx||require("next-js-core2"),n=(e.remove||require("next-remove"),{LOAD:"load",DONE:"done"}),a=e.declare("nx.Queue",{methods:{init:function(t){return this._callbacks=t||[],this._thenCallback=e.noop,this._thenErrorCallback=e.noop,this.make()},queue:function(t){return this._callbacks.push(t),this.make()},dequeue:function(t){return e.remove(this._callbacks,[t]),this.make()},make:function(){var t,a=this,i=this._callbacks.length,s=this._iterations=Array(i),r=[],u=function(t){r.push(t),a._thenCallback({status:n.LOAD,data:r})};return e.each(this._callbacks,function(e,i){s[e]=function(h){t=s[e+1]||u,i.call(a,t),h&&r.push(h),a._thenCallback({status:n.DONE,data:r})}}),this},then:function(t,e){return this._thenCallback=t,this._thenErrorCallback=e,this},start:function(){return this._iterations[0](),this}}});"undefined"!=typeof module&&module.exports&&(module.exports=a)}();