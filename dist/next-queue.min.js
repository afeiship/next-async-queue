!function(){var t=t||this||self||window,e=t.nx||require("next-js-core2"),n=(e.remove||require("next-remove"),{LOAD:"load",DONE:"done"}),a=e.declare("nx.Queue",{methods:{init:function(t){return this._callbacks=t||[],this._thenCallback=e.noop,this.make()},queue:function(t){return this._callbacks.push(t),this.make()},dequeue:function(t){return e.remove(this._callbacks,[t]),this.make()},make:function(){var t,a=this,i=this._callbacks.length,s=this._iterations=Array(i),u=[],r=function(t){u.push(t),a._thenCallback({status:n.LOAD,data:u})};return e.each(this._callbacks,function(e,i){s[e]=function(c){t=s[e+1]||r,i.call(a,t),c&&u.push(c),a._thenCallback({status:n.DONE,data:u})}}),this},then:function(t){return this._thenCallback=t,this},start:function(){return this._iterations[0](),this}}});"undefined"!=typeof module&&module.exports&&(module.exports=a)}();